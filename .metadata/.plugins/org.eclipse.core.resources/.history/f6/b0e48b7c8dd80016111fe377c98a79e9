package com.progressoft.jip.currency.currenciesprovider;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

public class CurrencyProviderImpl implements CurrencyProvider {
//	private static final String CURRENCY_CODE_PATH_PROPERTY_NAME = "currency.code.file";
	List<String> currencyList = new ArrayList<>();
	String path;

	public CurrencyProviderImpl() {

	}

	public CurrencyProviderImpl(String path) {
		this.path = path;
	}

	public void init() {

	}

	@Override
	public Iterable<String> listAllCurrency() {

		try (FileReader fileReader = new FileReader(path);
				BufferedReader reader = new BufferedReader(fileReader)) {
			String line = "";
			while ((line = reader.readLine()) != null) {
				currencyList.add(line);
			}

		} catch (IOException e) {
			throw new CurrencyException("file not found");
		}
		Collections.sort(currencyList);
		return currencyList;

	}
}
